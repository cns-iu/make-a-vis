<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>make-a-vis documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">make-a-vis documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>NSFRecord</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/dvl-fw-nsf/src/lib/data-model/nsf-record.ts</code>
        </p>



        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#abstract">abstract</a>
                                </li>
                                <li>
                                        <a href="#arraAmount">arraAmount</a>
                                </li>
                                <li>
                                        <a href="#awardedAmountToDate">awardedAmountToDate</a>
                                </li>
                                <li>
                                        <a href="#awardInstrument">awardInstrument</a>
                                </li>
                                <li>
                                        <a href="#coPiNames">coPiNames</a>
                                </li>
                                <li>
                                        <a href="#endDate">endDate</a>
                                </li>
                                <li>
                                        <a href="#endYear">endYear</a>
                                </li>
                                <li>
                                        <a href="#id">id</a>
                                </li>
                                <li>
                                        <a href="#lastAmendmentDate">lastAmendmentDate</a>
                                </li>
                                <li>
                                        <a href="#lastAmendmentYear">lastAmendmentYear</a>
                                </li>
                                <li>
                                        <a href="#nsfDirectorate">nsfDirectorate</a>
                                </li>
                                <li>
                                        <a href="#nsfOrganization">nsfOrganization</a>
                                </li>
                                <li>
                                        <a href="#nsfProgramManager">nsfProgramManager</a>
                                </li>
                                <li>
                                        <a href="#nsfPrograms">nsfPrograms</a>
                                </li>
                                <li>
                                        <a href="#organization">organization</a>
                                </li>
                                <li>
                                        <a href="#piEmailAddress">piEmailAddress</a>
                                </li>
                                <li>
                                        <a href="#piName">piName</a>
                                </li>
                                <li>
                                        <a href="#programElementCodes">programElementCodes</a>
                                </li>
                                <li>
                                        <a href="#programReferenceCodes">programReferenceCodes</a>
                                </li>
                                <li>
                                        <a href="#startDate">startDate</a>
                                </li>
                                <li>
                                        <a href="#startYear">startYear</a>
                                </li>
                                <li>
                                        <a href="#title">title</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="abstract"></a>
                                        <span class="name"><b>abstract</b><a href="#abstract"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>abstract:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="arraAmount"></a>
                                        <span class="name"><b>arraAmount</b><a href="#arraAmount"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>arraAmount:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="awardedAmountToDate"></a>
                                        <span class="name"><b>awardedAmountToDate</b><a href="#awardedAmountToDate"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>awardedAmountToDate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="awardInstrument"></a>
                                        <span class="name"><b>awardInstrument</b><a href="#awardInstrument"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>awardInstrument:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="coPiNames"></a>
                                        <span class="name"><b>coPiNames</b><a href="#coPiNames"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>coPiNames:     <code>string[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string[]</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="endDate"></a>
                                        <span class="name"><b>endDate</b><a href="#endDate"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>endDate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="endYear"></a>
                                        <span class="name"><b>endYear</b><a href="#endYear"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>endYear:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="id"></a>
                                        <span class="name"><b>id</b><a href="#id"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lastAmendmentDate"></a>
                                        <span class="name"><b>lastAmendmentDate</b><a href="#lastAmendmentDate"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lastAmendmentDate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lastAmendmentYear"></a>
                                        <span class="name"><b>lastAmendmentYear</b><a href="#lastAmendmentYear"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lastAmendmentYear:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="nsfDirectorate"></a>
                                        <span class="name"><b>nsfDirectorate</b><a href="#nsfDirectorate"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>nsfDirectorate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="nsfOrganization"></a>
                                        <span class="name"><b>nsfOrganization</b><a href="#nsfOrganization"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>nsfOrganization:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="nsfProgramManager"></a>
                                        <span class="name"><b>nsfProgramManager</b><a href="#nsfProgramManager"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>nsfProgramManager:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="nsfPrograms"></a>
                                        <span class="name"><b>nsfPrograms</b><a href="#nsfPrograms"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>nsfPrograms:     <code>string[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string[]</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="organization"></a>
                                        <span class="name"><b>organization</b><a href="#organization"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>organization:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="piEmailAddress"></a>
                                        <span class="name"><b>piEmailAddress</b><a href="#piEmailAddress"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>piEmailAddress:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="piName"></a>
                                        <span class="name"><b>piName</b><a href="#piName"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>piName:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="programElementCodes"></a>
                                        <span class="name"><b>programElementCodes</b><a href="#programElementCodes"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>programElementCodes:     <code>string[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string[]</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="programReferenceCodes"></a>
                                        <span class="name"><b>programReferenceCodes</b><a href="#programReferenceCodes"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>programReferenceCodes:     <code>string[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string[]</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="startDate"></a>
                                        <span class="name"><b>startDate</b><a href="#startDate"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>startDate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="startYear"></a>
                                        <span class="name"><b>startYear</b><a href="#startYear"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>startYear:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="title"></a>
                                        <span class="name"><b>title</b><a href="#title"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>title:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { parse } from &#x27;@dvl-fw/core&#x27;;
import { access, chain, combine, map, Operator } from &#x27;@ngx-dino/core&#x27;;

const csvfields &#x3D; [
  &#x27;AwardNumber&#x27;, &#x27;Title&#x27;, &#x27;NSFOrganization&#x27;, &#x27;Program(s)&#x27;, &#x27;StartDate&#x27;, &#x27;LastAmendmentDate&#x27;,
  &#x27;PrincipalInvestigator&#x27;, &#x27;State&#x27;, &#x27;Organization&#x27;, &#x27;AwardInstrument&#x27;, &#x27;ProgramManager&#x27;, &#x27;EndDate&#x27;,
  &#x27;AwardedAmountToDate&#x27;, &#x27;Co-PIName(s)&#x27;, &#x27;PIEmailAddress&#x27;, &#x27;OrganizationStreet&#x27;, &#x27;OrganizationCity&#x27;,
  &#x27;OrganizationState&#x27;, &#x27;OrganizationZip&#x27;, &#x27;OrganizationPhone&#x27;, &#x27;NSFDirectorate&#x27;, &#x27;ProgramElementCode(s)&#x27;,
  &#x27;ProgramReferenceCode(s)&#x27;, &#x27;ARRAAmount&#x27;, &#x27;Abstract&#x27;
];

function splitTrim(field: string, separator &#x3D; &#x27;,&#x27;): Operator&lt;any, string[]&gt; {
  return chain(access(field), map&lt;string, string[]&gt;(s &#x3D;&gt; (s || &#x27;&#x27;).split(separator).map(t &#x3D;&gt; t.trim()).filter(u &#x3D;&gt; !!u)));
}

function firstValid&lt;T&gt;(...operators: Operator&lt;any, T&gt;[]): Operator&lt;any, T&gt; {
  return map((s) &#x3D;&gt; {
    for (const op of operators) {
      const value &#x3D; op.get(s);
      if (value !&#x3D;&#x3D; undefined) {
        return value;
      }
    }
    return undefined;
  });
}

function date(field: string): Operator&lt;any, Date&gt; {
  return chain(access(field), map&lt;string, Date&gt;(s &#x3D;&gt; String(new Date(s || undefined)) &#x3D;&#x3D;&#x3D; &#x27;Invalid Date&#x27; ? undefined : new Date(s)));
}

function year(field: string): Operator&lt;any, number&gt; {
  return chain(date(field), map&lt;Date, number&gt;(s &#x3D;&gt; s ? s.getFullYear() : undefined));
}

function usDollars(field: string): Operator&lt;any, number&gt; {
  return chain(access(field), map&lt;string, number&gt;(s &#x3D;&gt; Number((s || &#x27;&#x27;).replace(/[^0-9\.]/g, &#x27;&#x27;)) || 0));
}

function padLeft(nr: number, n: number, str &#x3D; &#x27;0&#x27;) {
  return Array(Math.max(0, n - String(nr).length + 1)).join(str) + nr;
}

const zip5: Operator&lt;string, string&gt; &#x3D; map(s &#x3D;&gt; {
  s &#x3D; (s || &#x27;&#x27;).trim().replace(/[^\d]/g, &#x27;&#x27;);
  if (s.length &#x3D;&#x3D;&#x3D; 5) {
    return s;
  } else if (s.length &#x3D;&#x3D;&#x3D; 0) {
    return undefined;
  } else {
    return padLeft(Number(s), 9).slice(0, 5);
  }
});

export interface NSFRecord {
  id: string;
  title: string;

  piName: string;
  piEmailAddress: string;
  coPiNames: string[];

  organization: {
    name: string;
    street: string;
    city: string;
    state: string;
    zip: string;
    zip5: string;
    phone: string;
  };

  startDate: Date;
  endDate: Date;
  lastAmendmentDate: Date;
  startYear: number;
  endYear: number;
  lastAmendmentYear: number;

  awardInstrument: string;
  awardedAmountToDate: number;
  arraAmount: number;

  nsfOrganization: string;
  nsfPrograms: string[];
  nsfProgramManager: string;
  nsfDirectorate: string;
  programElementCodes: string[];
  programReferenceCodes: string[];

  abstract: string;
}

const nsfParseOp: Operator&lt;any, NSFRecord&gt; &#x3D; combine({
  &#x27;id&#x27;: access(&#x27;AwardNumber&#x27;),
  &#x27;title&#x27;: access(&#x27;Title&#x27;),

  &#x27;piName&#x27;: access(&#x27;PrincipalInvestigator&#x27;),
  &#x27;piEmailAddress&#x27;: access(&#x27;PIEmailAddress&#x27;),
  &#x27;coPiNames&#x27;: splitTrim(&#x27;Co-PIName(s)&#x27;),

  // &#x27;state&#x27;: access(&#x27;State&#x27;), Redundant with OrganizationState
  &#x27;organization&#x27;: {
    &#x27;name&#x27;: access(&#x27;Organization&#x27;),
    &#x27;street&#x27;: access(&#x27;OrganizationStreet&#x27;),
    &#x27;city&#x27;: access(&#x27;OrganizationCity&#x27;),
    &#x27;state&#x27;: access(&#x27;OrganizationState&#x27;),
    &#x27;zip&#x27;: access(&#x27;OrganizationZip&#x27;),
    &#x27;zip5&#x27;: chain(access(&#x27;OrganizationZip&#x27;), zip5),
    &#x27;phone&#x27;: access(&#x27;OrganizationPhone&#x27;),
  },

  &#x27;startDate&#x27;: date(&#x27;StartDate&#x27;),
  &#x27;endDate&#x27;: firstValid(date(&#x27;EndDate&#x27;), date(&#x27;ExpirationDate&#x27;)),
  &#x27;lastAmendmentDate&#x27;: date(&#x27;LastAmendmentDate&#x27;),
  &#x27;startYear&#x27;: year(&#x27;StartDate&#x27;),
  &#x27;endYear&#x27;: firstValid(year(&#x27;EndDate&#x27;), year(&#x27;ExpirationDate&#x27;)),
  &#x27;lastAmendmentYear&#x27;: year(&#x27;LastAmendmentDate&#x27;),

  &#x27;awardInstrument&#x27;: access(&#x27;AwardInstrument&#x27;),
  &#x27;awardedAmountToDate&#x27;: usDollars(&#x27;AwardedAmountToDate&#x27;),
  &#x27;arraAmount&#x27;: usDollars(&#x27;ARRAAmount&#x27;),

  &#x27;nsfOrganization&#x27;: access(&#x27;NSFOrganization&#x27;),
  &#x27;nsfPrograms&#x27;: splitTrim(&#x27;Program(s)&#x27;),
  &#x27;nsfProgramManager&#x27;: access(&#x27;ProgramManager&#x27;),
  &#x27;nsfDirectorate&#x27;: access(&#x27;NSFDirectorate&#x27;),
  &#x27;programElementCodes&#x27;: splitTrim(&#x27;ProgramElementCode(s)&#x27;),
  &#x27;programReferenceCodes&#x27;: splitTrim(&#x27;ProgramReferenceCode(s)&#x27;),

  &#x27;abstract&#x27;: access(&#x27;Abstract&#x27;)
});

export function parseNSFFile(fileContents: string): NSFRecord[] {
  return parse(fileContents, { header: true }).data.map(nsfParseOp.getter).filter(s &#x3D;&gt; !!s.id);
}
</code></pre>
    </div>
</div>


                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'NSFRecord.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
