<mat-tab-group [color]="'#ffffff'" [disableRipple]="true" [(selectedIndex)]="selectedVis" class="tab-group" #visualization>

    <mat-tab *ngFor="let vis of visualizations; let index = index" [disabled]="false">

        <ng-template mat-tab-label>
            <mat-chip-list [selectable]="true">
                <mat-chip [selected]="index === selectedVis" (click)="setSelectedVis(index)" class="tab-label">
                    <div class="text"> {{ vis.label }} </div>
                    <mav-cancel-icon (click)="removeVisualization(index)" class="mav-cancel-icon"></mav-cancel-icon>
                </mat-chip>
            </mat-chip-list>

        </ng-template>

        <ng-template matTabContent>
            <!-- active class is used by export to select the element -->
            <div class="tab-content" [ngClass]="{ active: index === selectedVis }">
                <dvl-visualization [data]="vis.data"></dvl-visualization>
            </div>
        </ng-template>

    </mat-tab>

</mat-tab-group>

<div class="add-visualization">
    <mav-add-icon [matMenuTriggerFor]="menu" class="mav-add-icon"></mav-add-icon>
    New
</div>

<mat-menu #menu>
    <button *ngFor="let type of visTypes" (click)="addNewVisualization(type)" mat-menu-item>
    <mav-visualization-menu [label]="type.label" [icon]="type.icon" class="menu">
    </mav-visualization-menu>
  </button>
</mat-menu>