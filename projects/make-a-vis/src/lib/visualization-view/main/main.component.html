<div class="mav-visualization-view" [hidden]="selectedVis === -1">
    <mat-tab-group [color]="'#ffffff'" [disableRipple]="true" [(selectedIndex)]="selectedVis" class="visualization-group" #visGroup>
        <mat-tab *ngFor="let vis of visualizations; let index = index" [disabled]="false">
            <ng-template mat-tab-label>
                <div class="tab" (click)="setSelectedVis(index)" [ngClass]="{'selected': index===selectedVis}">
                    <div class="spacer"></div>
                    <span class="label">{{vis.label}}</span>
                    <mat-icon class="cancel-button" (click)="removeVisualization(index)">cancel</mat-icon>
                    <div class="spacer"></div>
                </div>
            </ng-template>

            <ng-template matTabContent>
                <div class="visualization-wrapper">

                    <!-- active class is used by export to select the element -->
                    <div class="visualization-container" [ngClass]="{ active: index === selectedVis }">
                        <dvl-visualization #visualizations [data]="vis.data"></dvl-visualization>
                    </div>

                    <div class="about-text-short-container" [matMenuTriggerFor]="aboutMenu" *ngIf="vis.data">
                        <div class="about-text-short">
                            ABOUT: {{ vis.data.description.length >= 50 ? vis.data.description.slice(0, 50) + '...' : vis.data.description}} 
                        </div>
                        <mat-icon class="expand-icon" >
                            expand_more
                        </mat-icon>
                    </div>
                    <mat-menu #aboutMenu="matMenu" class="about-text-long-menu" xPosition="before">
                        <div class="about-text-long"> ABOUT: {{vis.data.description}} </div>
                        <mat-icon class="expand-icon" >
                            expand_less
                        </mat-icon>
                    </mat-menu>
                </div>
            </ng-template>
        </mat-tab>
    </mat-tab-group>
    <div class="add-edit-visualization">
        <mat-icon class="add-icon" (click)="toggleAddVisualization('add')">{{addIconName}}</mat-icon>
        <mat-icon class="edit-icon" (click)="toggleAddVisualization('edit')">edit</mat-icon>
    </div>
</div>