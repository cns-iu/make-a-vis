<div class="graphic-symbol-wrapper">
  <mat-expansion-panel *ngFor="let graphicSymbol of graphicSymbolTypes" class="expansion-panel" [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title class="title">
        {{graphicSymbol?.label}}({{graphicSymbol?.type}})
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div class="graphic-variable-wrapper">
      <div class="card-wrapper" *ngFor="let variableType of graphicSymbol.graphicVariableOptions">
        <mat-card class="card" (mavDroppable)="dataVariableDropped($event, variableType, graphicSymbol)"
          (dragDropEvents)="onDragDropEvent($event)" [ngClass]="{'data-variable-selected': selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)?true:false}">
          <div class="variable-type">
            {{variableType?.label}}
            <br>
            <div *ngIf="selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)">
              {{recordStreamMapping?.get(graphicSymbol.id)?.label}}:
              {{selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)?.label}}
            </div>
          </div>
          <!-- TODO: temporary placeholder-->
          <div class="variable-category">Quantitative</div>
        </mat-card>
        <mat-icon class="cancel-icon" *ngIf="selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)?true:false" 
          (click)="unsetGraphicVariable(graphicSymbol.id, variableType.id || variableType.type)">
          cancel
        </mat-icon>
      </div>
    </div>
  </mat-expansion-panel>
</div>