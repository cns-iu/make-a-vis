<div class="graphic-symbol-wrapper">
    <mat-expansion-panel *ngFor="let graphicSymbol of graphicSymbolTypes; let i = index" class="expansion-panel" [expanded]="false">
        <mat-expansion-panel-header [expandedHeight]="'3rem'">
            <mat-panel-title class="title">
                {{graphicSymbol?.label}}({{graphicSymbol?.type}})
            </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="graphic-variable-wrapper">
            <div class="card-wrapper" *ngFor="let variableType of graphicSymbol.graphicVariableOptions">
                <mat-card class="card" (mavDroppable)="dataVariableDropped($event, variableType, graphicSymbol)" (dragDropEvents)="onDragDropEvent($event)" [ngClass]="{'data-variable-selected': selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)?true:false, 'highlight': shouldHighlight(variableType, graphicSymbol)}"
                    [acceptsDrop]="acceptsDrop(variableType, graphicSymbol)" (mouseenter)="startHover(variableType)" (mouseleave)="endHover()">
                    <div class="variable-type">
                        <mav-graphic-variable-icon [visualization]="activeVis?.data" [graphicSymbolOption]="graphicSymbol" [graphicVariableOption]="variableType">
                        </mav-graphic-variable-icon>
                        <span class="graphic-variable-label">{{variableType?.label}}</span>
                        <div class="data-variable" *ngIf="selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)">
                            <span>{{recordStreamMapping?.get(graphicSymbol.id)?.label}}:</span>
                        </div>
                    </div>
                    <!-- TODO: temporary placeholder-->
                    <div class="variable-category">Quantitative</div>
                </mat-card>
                <mat-icon class="cancel-icon" *ngIf="selectedDataVariablesMapping?.get(graphicSymbol.id)?.get(variableType.id || variableType.type)?true:false" (click)="unsetGraphicVariable(graphicSymbol.id, variableType.id || variableType.type)">
                    cancel
                </mat-icon>
            </div>
        </div>
    </mat-expansion-panel>
</div>